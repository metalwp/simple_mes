<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<title>noModal.html</title>

<meta name="keywords" content="keyword1,keyword2,keyword3">
<meta name="description" content="this is my page">
<meta name="content-type" content="text/html">

<!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
<link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css"
	rel="stylesheet">
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<style type="text/css">

.page{
	margin-left:450px;
}
.but{
	width:100px;
	height:45px;
	border-radius: 10px;
	background-color: #1E90FF;
	color:white;
}
.close{
	margin-top:-15px;
	margin-right:-30px;
}

.no_modal {
	margin:0 auto;
	margin-top:100px;
	width: 350px;
	border: 1px solid #DCDCDC;
	border-radius: 10px;
    background-color: white;

}
.login_page{
	width:300px;
	margin:0 auto;
	padding:20px;
}
</style>
</head>

<body>
	<div class="page">
		<h1>js加载模态对话框</h1>
		<button class="but">弹出对话框</button>
	</div>
	<div class="no_modal">
		<div class="login_page">
			<button class="close">x</button>
			<form action="">
				<div class="form-group">
					<label class="control-label" for="UserName">用户名</label> <input
						type="text" class="form-control" id="UserName" placeholder="用户名">
				</div>
				<div class="form-group">
					<label class="control-label" for="Password">密码</label> <input
						type="password" class="form-control" id="Password"
						placeholder="密码">
				</div>
				<div class="form-group">
					<label> <input type="checkbox">自动登录
					</label> <a href="#" class="pull-right">忘记密码</a>
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-primary form-control">登录</button>
				</div>
			</form>
		</div>
	</div>
	<script type="text/javascript">
		$(function (){
			$(".no_modal").hide();
		});
		$(function(){
		$(".but").click(function(){
			$(".no_modal").show();
		});
		$(".close").click(function(){
			$(".no_modal").hide();
		});
		});


		var mouseStartPoint = {"left":0,"top":  0};
        var mouseEndPoint = {"left":0,"top":  0};
        var mouseDragDown = false;
        var oldP = {"left":0,"top":  0};
        var moveTartet ;
        $(document).ready(function(){
            $(document).on("mousedown",".login_page",function(e){
                if($(e.target).hasClass("close"))//点关闭按钮不能移动对话框
                    return;
                mouseDragDown = true;
                moveTartet = $(this).parent();
                mouseStartPoint = {"left":e.clientX,"top":  e.clientY};
                oldP = moveTartet.offset();
            });
            $(document).on("mouseup",function(e){
                mouseDragDown = false;
                moveTartet = undefined;
                mouseStartPoint = {"left":0,"top":  0};
                oldP = {"left":0,"top":  0};
            });
            $(document).on("mousemove",function(e){
                if(!mouseDragDown || moveTartet == undefined)return;
                var mousX = e.clientX;
                var mousY = e.clientY;
                if(mousX < 0)mousX = 0;
                if(mousY < 0)mousY = 25;
                mouseEndPoint = {"left":mousX,"top": mousY};
                var width = moveTartet.width();
                var height = moveTartet.height();
                mouseEndPoint.left = mouseEndPoint.left - (mouseStartPoint.left - oldP.left);//移动修正，更平滑
                mouseEndPoint.top = mouseEndPoint.top - (mouseStartPoint.top - oldP.top);
                moveTartet.offset(mouseEndPoint);
            });
        });

	</script>

</body>
</html>